ports:
  web:
    redirections:
      entryPoint:
        to: websecure
        scheme: https
        permanent: true

  websecure:
    middlewares:
      - name: traefik-error-pages
        namespace: traefik

  web-ext:
    port: 8001
    exposedPort: 7080
    expose:
      default: false
      ext: true
    protocol: TCP
    redirections:
      entryPoint:
        to: websecure-ext
        scheme: https
        permanent: true

  websecure-ext:
    port: 8444
    exposedPort: 7443
    expose:
      default: false
      ext: true
    protocol: TCP
    middlewares:
      - name: traefik-error-pages
        namespace: traefik
    tls:
      enabled: true

service:
  additionalServices:
    ext: {}

ingressRoute:
  dashboard:
    enabled: true
    entryPoints:
      - websecure
    tls:
      secretName: traefik-dashboard-tls
